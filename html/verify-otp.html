<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Verify OTP | One Layer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="../assets/css/styles.css">
</head>

<body class="bg-light d-flex align-items-center justify-content-center min-vh-100">

  <div class="card p-4 shadow" style="max-width: 400px; width:100%;">
    <h4 class="mb-3 text-center">Verify OTP</h4>
    <p class="text-muted text-center">
      Enter the 6‑digit code sent to your email
    </p>

    <form id="otp-form">
      <input type="text" id="otp" class="form-control text-center fs-4 mb-3" placeholder="Enter OTP" maxlength="6"
        required>

      <button type="submit" class="btn btn-dark w-100">
        Verify & Continue
      </button>
    </form>
  </div>

  <script type="module" src="../assets/js/supabase.js"></script>
  <script type="module" src="../assets/js/verify-otp.js"></script>

  <!--  Page Wrapper -->
  <div class="page-wrapper overflow-hidden">

    <!-- Header with WhatsApp Button (simplified for verify-otp page) -->
    <div class="position-fixed top-0 start-0 w-100 p-3 d-flex justify-content-end" style="z-index: 10;">
      <a href="https://wa.link/w8jxpn" target="_blank" class="whatsapp-btn">
        <iconify-icon icon="logos:whatsapp-icon"></iconify-icon>
        <span>WhatsApp Chat</span>
      </a>
    </div>

    <!--  Get in touch Section -->
  </div>

  <!-- Layer Navigation Sidebar -->
  <div class="layer-sidebar" id="layerSidebar">
    <div class="layer-links-wrapper">
      <a href="foundation-layer.html" class="layer-link" data-layer="foundation">Foundation Layer</a>
      <a href="growth-layer.html" class="layer-link" data-layer="growth">Growth Layer</a>
      <a href="scale-layer.html" class="layer-link" data-layer="scale">Scale Layer</a>
      <a href="enterprise-layer.html" class="layer-link" data-layer="enterprise">Enterprise Layer</a>
      <a href="global-layer.html" class="layer-link" data-layer="global">Global Layer</a>
      <a href="data-security-layer.html" class="layer-link" data-layer="data-security">Data & Security Layer</a>
    </div>
  </div>

  <script>
    (function () {
      const sidebar = document.getElementById('layerSidebar');
      const bannerSection = document.querySelector('.banner-section');
      const footer = document.querySelector('footer');
      const menuToggle = document.querySelector('.toggle-menu');

      function updateSidebarVisibility() {
        const scrollY = window.scrollY;
        const windowHeight = window.innerHeight;
        const bannerBottom = bannerSection ? bannerSection.offsetTop + bannerSection.offsetHeight : 0;
        const footerTop = footer ? footer.offsetTop : document.body.scrollHeight;
        const viewportBottom = scrollY + windowHeight;
        const menuOpen = menuToggle && menuToggle.getAttribute('aria-expanded') === 'true';

        if (scrollY < bannerBottom - 100 || viewportBottom > footerTop - 50 || menuOpen) {
          sidebar.classList.add('hidden');
        } else {
          sidebar.classList.remove('hidden');
        }
      }

      window.addEventListener('scroll', updateSidebarVisibility);
      window.addEventListener('resize', updateSidebarVisibility);
      document.addEventListener('click', updateSidebarVisibility);
      if (menuToggle) {
        menuToggle.addEventListener('click', function () {
          setTimeout(updateSidebarVisibility, 50);
        });
      }
      updateSidebarVisibility();
    })();
  </script>

</body>

</html>